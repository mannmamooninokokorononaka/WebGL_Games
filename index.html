<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>オセロの板と駒 Bymannmamooni</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body style="text-align:center">
    <h1>オセロの板と駒</h1><br><small>なんかやるといい感じになる</small>
    <canvas id="myStatus" width = "560" height="120" style=""></canvas>
<canvas id="myCanvas" width="560" height="560" style="position: relative" ></canvas>
    

<script>

    var canvas = document.getElementById("myCanvas");
    var canvas2 = document.getElementById("myStatus");
    var ctx = canvas.getContext("2d");
    var ctx2 = canvas2.getContext("2d");

    //ctx2.fillStyle = "#000000";
    //ctx2.fillRect(100,100,100,100);

    var OseroMathInf = new Array(8);//=0 何もない,=1 白,=2 黒
    for(var i = 0;i < 8;i++)
        {
            OseroMathInf[i] = Array(8);
            for(var i2 = 0;i2 < 8;i2++)
                {
                    OseroMathInf[i][i2] = 0;
                }
        }
    var X = 0,Y = 0,WhoTurn = 1;//,=1 白,=2 黒
    var X2 = 0,Y2 = 0;
    canvas.addEventListener("click", (e) => {
    var rect = e.target.getBoundingClientRect()
    var x = e.clientX - rect.left
    var y = e.clientY - rect.top
    //console.log(`${x}:${y}`)
    X = x;
        Y = y;
    });

    canvas2.addEventListener("click", (e2) => {
    var rect2 = e2.target.getBoundingClientRect()
    var x2 = e2.clientX - rect2.left
    var y2 = e2.clientY - rect2.top
    //console.log(`${x}:${y}`)
    X2= x2;
    Y2 = y2;
    });
    
function draw() 
{
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx2.clearRect(0, 0, canvas2.width, canvas2.height);

    ctx2.beginPath();
    ctx2.fillStyle = "#FF0000"
    ctx2.fillRect(0,0,560,200);
    ctx2.fillStyle= "#FFFFFF";
    ctx2.arc(100,60,50,0,Math.PI*2,false);
    ctx2.fill();
    ctx2.closePath();
    ctx2.beginPath();
    ctx2.fillStyle= "#000000";
    ctx2.arc(250,60,50,0,Math.PI*2,false);
    ctx2.fill();
    ctx2.fillStyle= "#FFFFFF";
    ctx2.fillRect(350,10,100,100);
    ctx2.closePath();
     if(50 < X2 && 150 > X2 && 10 < Y2 && 110 > Y2)
     {
          WhoTurn = 1;
     }
     if(200 < X2 && 300 > X2 && 10 < Y2 && 110 > Y2)
     {
          WhoTurn = 2;
     }
         if(350 < X2 && 450 > X2 && 10 < Y2 && 110 > Y2)
     {
          WhoTurn = 0;
     }


    //ここでマス目設定
    ctx.beginPath();
    ctx.fillStyle = '#006400';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#000000";
    for(var i  = 0;i < 9;i++)
        {
            ctx.fillRect(-5+70*i,0,10,560);
            ctx.fillRect(0,-5+70*i,560,10);
        }
    ctx.closePath();
    //ここまででマス目設定
    

    ctx.beginPath();
    ctx.fillStyle = '#000000';
    ctx.closePath();
    
    for(var i = 0;i < 8; i++)
        {
            for(var i2 = 0;i2 < 8; i2++)
            {
               if(70*i < X && 70*(i+1) > X && 70*i2 < Y && 70*(i2+1) > Y)
               {
                    OseroMathInf[i][i2] = WhoTurn;
              }
                if(OseroMathInf[i][i2] == 1)
                {
                    ctx.beginPath();
                    ctx.fillStyle = '#ffffff';
                    //ctx.fillRect(i*70+5 ,i2*70+5 ,55, 55);
                      ctx.arc(i*70+35 ,i2*70+35, 30,0, Math.PI*2, false);
                      ctx.fill();
                    ctx.closePath();
                }
                if(OseroMathInf[i][i2] == 2)
                {
                    ctx.beginPath();
                    ctx.fillStyle = '#000000';
                    //ctx.fillRect(i*70+5 ,i2*70+5 ,55, 55);
                      ctx.arc(i*70+35 ,i2*70+35, 30,0, Math.PI*2, false);
                      ctx.fill();
                    ctx.closePath();
                }
            }
        }
    
    //ctx.fillRect(X, Y, 10, 10);
    
    ctx.closePath();
    // 描画コード
}
setInterval(draw, 10);

</script><br>
<a href="https://youtube.com"><img src="NorthKoreaFlagOnKinJongUn.png" title="広告１"></a>
</body>
</html>
